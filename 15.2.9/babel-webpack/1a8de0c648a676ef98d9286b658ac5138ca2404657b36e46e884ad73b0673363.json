{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../posts.service\";\nimport * as i3 from \"../app-state.service\";\nimport * as i4 from \"@angular/forms\";\nexport class PostFormComponent {\n  constructor(router, route, postsService, appState) {\n    this.router = router;\n    this.route = route;\n    this.postsService = postsService;\n    this.appState = appState;\n    this.mode = 'Add';\n    this.postId = null;\n    this.formSubmitted = new EventEmitter();\n    this.post = {\n      title: '',\n      body: ''\n    };\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.mode = 'Edit';\n        this.postId = parseInt(params['id'], 10);\n        this.postsService.getPost(this.postId).subscribe(post => {\n          this.post = post;\n        });\n      } else {\n        this.mode = 'Add';\n      }\n    });\n  }\n  onSubmit() {\n    if (this.mode === 'Add') {\n      this.postsService.createPost(this.post).subscribe(newPost => {\n        this.appState.addPost(newPost);\n        this.router.navigate(['/']);\n      });\n    } else if (this.mode === 'Edit') {\n      this.postsService.updatePost(this.post).subscribe(updatedPost => {\n        this.appState.updatePost(updatedPost);\n        this.router.navigate(['/']);\n      });\n    }\n  }\n}\nPostFormComponent.ɵfac = function PostFormComponent_Factory(t) {\n  return new (t || PostFormComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.PostsService), i0.ɵɵdirectiveInject(i3.AppStateService));\n};\nPostFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PostFormComponent,\n  selectors: [[\"app-post-form\"]],\n  decls: 14,\n  vars: 4,\n  consts: [[1, \"container\", \"mt-4\"], [3, \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"title\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"body\", 1, \"form-label\"], [\"id\", \"body\", \"name\", \"body\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function PostFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function PostFormComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\", 3);\n      i0.ɵɵtext(6, \"Title:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function PostFormComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.post.title = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\", 5);\n      i0.ɵɵtext(10, \"Body:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"textarea\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function PostFormComponent_Template_textarea_ngModelChange_11_listener($event) {\n        return ctx.post.body = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"button\", 7);\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\", ctx.mode, \" Post\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.post.title);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.post.body);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\", ctx.mode, \" Post\");\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAA2CA,YAAY,QAAQ,eAAe;;;;;;AAU9E,OAAM,MAAOC,iBAAiB;EAU5BC,YAAoBC,MAAc,EAAUC,KAAqB,EAAUC,YAA0B,EAAUC,QAAyB;IAApH,WAAM,GAANH,MAAM;IAAkB,UAAK,GAALC,KAAK;IAA0B,iBAAY,GAAZC,YAAY;IAAwB,aAAQ,GAARC,QAAQ;IATtH,SAAI,GAAmB,KAAK;IAC5B,WAAM,GAAkB,IAAI;IAC5B,kBAAa,GAAG,IAAIN,YAAY,EAAE;IAEnC,SAAI,GAAG;MACLO,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE;KACP;EAE0I;EAE3IC,QAAQ;IACN,IAAI,CAACL,KAAK,CAACM,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACnC,IAAIA,MAAM,CAAC,IAAI,CAAC,EAAE;QAChB,IAAI,CAACE,IAAI,GAAG,MAAM;QAClB,IAAI,CAACC,MAAM,GAAGC,QAAQ,CAACJ,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;QAExC,IAAI,CAACL,YAAY,CAACU,OAAO,CAAC,IAAI,CAACF,MAAM,CAAC,CAACF,SAAS,CAACK,IAAI,IAAG;UACtD,IAAI,CAACA,IAAI,GAAGA,IAAI;QAClB,CAAC,CAAC;OACH,MAAM;QACL,IAAI,CAACJ,IAAI,GAAG,KAAK;;IAErB,CAAC,CAAC;EACJ;EAGAK,QAAQ;IACN,IAAI,IAAI,CAACL,IAAI,KAAK,KAAK,EAAE;MACvB,IAAI,CAACP,YAAY,CAACa,UAAU,CAAC,IAAI,CAACF,IAAI,CAAC,CAACL,SAAS,CAACQ,OAAO,IAAG;QAC1D,IAAI,CAACb,QAAQ,CAACc,OAAO,CAACD,OAAO,CAAC;QAC9B,IAAI,CAAChB,MAAM,CAACkB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;MAC7B,CAAC,CAAC;KACH,MAAM,IAAI,IAAI,CAACT,IAAI,KAAK,MAAM,EAAE;MAC/B,IAAI,CAACP,YAAY,CAACiB,UAAU,CAAC,IAAI,CAACN,IAAI,CAAC,CAACL,SAAS,CAACY,WAAW,IAAG;QAC9D,IAAI,CAACjB,QAAQ,CAACgB,UAAU,CAACC,WAAW,CAAC;QACrC,IAAI,CAACpB,MAAM,CAACkB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;MAC7B,CAAC,CAAC;;EAEN;;AAxCWpB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV9BC,8BAA4B;MACtBA,YAAe;MAAAA,iBAAK;MACxBA,+BAA8B;MAAxBA;QAAA,OAAYC,cAAU;MAAA,EAAC;MAC3BD,8BAAkB;MACsBA,sBAAM;MAAAA,iBAAQ;MACpDA,gCAAyF;MAA3DA;QAAA;MAAA,EAAwB;MAAtDA,iBAAyF;MAE3FA,8BAAkB;MACqBA,sBAAK;MAAAA,iBAAQ;MAClDA,oCAA6E;MAAzDA;QAAA;MAAA,EAAuB;MAAkCA,iBAAW;MAE1FA,kCAA8C;MAAAA,aAAe;MAAAA,iBAAS;;;MAVpEA,eAAe;MAAfA,4CAAe;MAIeA,eAAwB;MAAxBA,wCAAwB;MAIlCA,eAAuB;MAAvBA,uCAAuB;MAECA,eAAe;MAAfA,4CAAe","names":["EventEmitter","PostFormComponent","constructor","router","route","postsService","appState","title","body","ngOnInit","params","subscribe","mode","postId","parseInt","getPost","post","onSubmit","createPost","newPost","addPost","navigate","updatePost","updatedPost","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\ahmzy_5ce8ywd\\OneDrive\\Documents\\volvo\\Angular-main\\Angular-main\\recruitment-task-main - Senior\\recruitment-task-main\\src\\app\\post-form\\post-form.component.ts","C:\\Users\\ahmzy_5ce8ywd\\OneDrive\\Documents\\volvo\\Angular-main\\Angular-main\\recruitment-task-main - Senior\\recruitment-task-main\\src\\app\\post-form\\post-form.component.html"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { PostsService } from '../posts.service';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {AppStateService} from \"../app-state.service\";\n\n@Component({\n  selector: 'app-post-form',\n  templateUrl: './post-form.component.html',\n  styleUrls: ['./post-form.component.scss']\n})\nexport class PostFormComponent implements OnInit {\n   mode: 'Add' | 'Edit' = 'Add';\n   postId: number | null = null;\n   formSubmitted = new EventEmitter();\n\n  post = {\n    title: '',\n    body: ''\n  };\n\n  constructor(private router: Router, private route: ActivatedRoute, private postsService: PostsService, private appState: AppStateService) {}\n\n  ngOnInit(): void {\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.mode = 'Edit';\n        this.postId = parseInt(params['id'], 10);\n\n        this.postsService.getPost(this.postId).subscribe(post => {\n          this.post = post;\n        });\n      } else {\n        this.mode = 'Add';\n      }\n    });\n  }\n\n\n  onSubmit(): void {\n    if (this.mode === 'Add') {\n      this.postsService.createPost(this.post).subscribe(newPost => {\n        this.appState.addPost(newPost);\n        this.router.navigate(['/']);\n      });\n    } else if (this.mode === 'Edit') {\n      this.postsService.updatePost(this.post).subscribe(updatedPost => {\n        this.appState.updatePost(updatedPost);\n        this.router.navigate(['/']);\n      });\n    }\n  }\n}\n","<div class=\"container mt-4\">\n  <h2>{{ mode }} Post</h2>\n  <form (ngSubmit)=\"onSubmit()\">\n    <div class=\"mb-3\">\n      <label for=\"title\" class=\"form-label\">Title:</label>\n      <input type=\"text\" id=\"title\" [(ngModel)]=\"post.title\" name=\"title\" class=\"form-control\">\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"body\" class=\"form-label\">Body:</label>\n      <textarea id=\"body\" [(ngModel)]=\"post.body\" name=\"body\" class=\"form-control\"></textarea>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\">{{ mode }} Post</button>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}